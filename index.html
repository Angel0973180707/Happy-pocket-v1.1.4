<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°éŒ¢åŒ…å¤§æ™ºæ…§ v1.1.4</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #FFF5E6; }
        .card { background: white; border-radius: 24px; box-shadow: 0 8px 20px rgba(0,0,0,0.05); }
        .btn-primary { background: #E67E22; color: white; border-radius: 16px; transition: 0.3s; }
        .btn-primary:disabled { background: #BDC3C7; }
        .btn-outline { border: 2px solid #E67E22; color: #E67E22; border-radius: 16px; }
        .tab-active { color: #E67E22; border-bottom: 3px solid #E67E22; }
        .hidden { display: none; }
    </style>
</head>
<body class="pb-20">

    <div class="p-4 flex justify-between items-center bg-white shadow-sm sticky top-0 z-10">
        <div class="flex items-center gap-2">
            <span class="text-xl">ğŸ’°</span>
            <span class="font-bold text-orange-800">æ’²æ»¿ï¼š$<span id="balanceDisplay">165</span></span>
        </div>
        <div class="flex items-center gap-2">
            <span class="text-xl">ğŸ’</span>
            <span class="font-bold text-blue-600">é»æ•¸ï¼š<span id="pointsDisplay">0</span> P</span>
        </div>
    </div>

    <main class="p-4">
        
        <section id="page-info" class="page-content">
            <div class="card p-6 border-l-8 border-orange-500">
                <h2 class="text-2xl font-bold text-orange-800 mb-4">ğŸ§  ç‚ºä»€éº¼è¦ã€Œç·´åŠŸã€ï¼Ÿ</h2>
                <p class="text-gray-700 leading-relaxed mb-4">
                    ç•¶æˆ‘å€‘çœ‹åˆ°æƒ³è²·çš„æ±è¥¿æ™‚ï¼Œå¤§è…¦è£¡çš„ã€Œæƒ…ç·’ä¸­å¿ƒã€æœƒè®Šå¾—å¾ˆèˆˆå¥®ï¼Œè®“æˆ‘å€‘ç”¢ç”Ÿ**è¡å‹•**ã€‚é€™æ™‚å€™ï¼Œæˆ‘å€‘éœ€è¦ç·´ç¿’ä½¿ç”¨**å‰é¡è‘‰**ï¼ˆç†æ™ºå¤§è…¦ï¼‰ä¾†è¸©ç…è»Šã€‚
                </p>
                <div class="bg-orange-50 p-4 rounded-xl mb-4">
                    <p class="font-bold text-orange-900">ğŸ’¡ é›¶ç”¨éŒ¢çš„å®šç¾©ï¼š</p>
                    <p class="text-sm text-orange-800">é›¶ç”¨éŒ¢ä¸æ˜¯ç¦®ç‰©ï¼Œè€Œæ˜¯è®“ä½ ç·´ç¿’ã€Œç®¡ç†æ…¾æœ›ã€èˆ‡ã€Œåšå‡ºé¸æ“‡ã€çš„é ç®—ã€‚</p>
                </div>
                <h3 class="font-bold mb-2">ğŸ† ç·´åŠŸä¸‰éƒ¨æ›²ï¼š</h3>
                <ul class="text-sm space-y-2 text-gray-600">
                    <li>1. **è¼¸å…¥é‡‘é¡**ï¼šé¢å°ä½ çš„æ…¾æœ›ã€‚</li>
                    <li>2. **å†·éœ 30 ç§’**ï¼šè®“å‰é¡è‘‰é†’éä¾†ï¼Œå€åˆ†ã€Œæƒ³è¦ã€é‚„æ˜¯ã€Œéœ€è¦ã€ã€‚</li>
                    <li>3. **åšå‡ºæ±ºå®š**ï¼šä¸è²·æˆ–è€ƒæ…®ï¼Œéƒ½èƒ½è½‰æ›ç‚ºèšå¯¶ç›†é»æ•¸å–”ï¼</li>
                </ul>
            </div>
        </section>

        <section id="page-practice" class="page-content hidden">
            <div class="card p-8 text-center">
                <h2 class="text-2xl font-bold mb-6">ğŸ§˜ è¸©ç…è»Šç·´åŠŸä¸­</h2>
                
                <div id="step-input">
                    <p class="text-gray-500 mb-4">æƒ³è²·çš„æ±è¥¿å¤šå°‘éŒ¢ï¼Ÿ</p>
                    <input type="number" id="itemPrice" class="w-full text-center text-3xl p-4 border-b-2 border-orange-200 focus:outline-none focus:border-orange-500 mb-8" placeholder="$">
                    <button onclick="startCooldown()" class="w-full btn-primary py-4 text-xl font-bold">é–‹å§‹ç·´åŠŸ (å†·éœä¸€ä¸‹)</button>
                </div>

                <div id="step-cooldown" class="hidden">
                    <div class="relative w-32 h-32 mx-auto mb-6">
                        <svg class="w-full h-full" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="45" fill="none" stroke="#eee" stroke-width="5"/>
                            <circle id="timerCircle" cx="50" cy="50" r="45" fill="none" stroke="#E67E22" stroke-width="5" stroke-dasharray="283" stroke-dashoffset="0" transform="rotate(-90 50 50)"/>
                        </svg>
                        <div id="timerNum" class="absolute inset-0 flex items-center justify-center text-3xl font-bold text-orange-600">30</div>
                    </div>
                    <p class="text-orange-800 font-bold mb-2">å‰é¡è‘‰å†·å»ä¸­...</p>
                    <p class="text-sm text-gray-500">è«‹æ€è€ƒï¼šé€™æ±è¥¿æ˜¯ã€Œæƒ³è¦ã€é‚„æ˜¯ã€Œéœ€è¦ã€ï¼Ÿ</p>
                </div>

                <div id="step-decision" class="hidden">
                    <div class="grid grid-cols-3 gap-2 mb-8">
                        <button onclick="setMode('éœ€è¦')" class="p-3 border rounded-xl focus:bg-orange-100">éœ€è¦</button>
                        <button onclick="setMode('æƒ³è¦')" class="p-3 border rounded-xl focus:bg-orange-100">æƒ³è¦</button>
                        <button onclick="setMode('ä¸ç¢ºå®š')" class="p-3 border rounded-xl focus:bg-orange-100">ä¸ç¢ºå®š</button>
                    </div>
                    <button onclick="buyNow()" class="w-full btn-outline py-4 mb-4 font-bold text-lg">é‚„æ˜¯æƒ³è²· (æ‰£æ’²æ»¿)</button>
                    <button onclick="savePoints()" class="w-full btn-primary py-4 font-bold text-lg shadow-lg">æˆ‘ä¸è²·äº†ï¼å­˜é»æ•¸</button>
                </div>
            </div>
        </section>

        <section id="page-settings" class="page-content hidden">
            <div class="card p-6 mb-6">
                <h2 class="text-xl font-bold mb-4">âš™ï¸ å®¶é•·ç®¡ç†æ¨¡å¼</h2>
                <div class="space-y-4">
                    <div>
                        <label class="text-sm text-gray-500">æœ¬æœŸé›¶ç”¨éŒ¢ ($)</label>
                        <input type="number" value="200" class="w-full p-3 border rounded-xl bg-gray-50">
                    </div>
                    <div>
                        <label class="text-sm text-gray-500">å…Œæ›ç‡ ($100 æ›å¹¾é»ï¼Ÿ)</label>
                        <input type="number" id="rateInput" value="1" class="w-full p-3 border rounded-xl bg-gray-50">
                    </div>
                </div>
            </div>

            <div class="card p-6">
                <h2 class="text-xl font-bold mb-2 text-blue-800">ğŸ¡ æ‰­è›‹æ± è¦ªå­å…±å‰µ</h2>
                <p class="text-xs text-gray-500 mb-4">çå‹µå­©å­å…‹åˆ¶æ…¾æœ›ï¼Œçœä¸‹çš„éŒ¢æ›æˆé»æ•¸æŠ½é©šå–œï¼</p>
                <div id="gachaList" class="space-y-2 mb-4">
                    <div class="flex gap-2"><input type="text" value="å¤šè½ä¸€å€‹ç¡å‰æ•…äº‹" class="flex-1 p-2 border rounded-lg text-sm gacha-item"></div>
                    <div class="flex gap-2"><input type="text" value="å»å…¬åœ’é¨è…³è¸è»Š" class="flex-1 p-2 border rounded-lg text-sm gacha-item"></div>
                </div>
                <button onclick="addGachaField()" class="text-blue-600 text-sm font-bold">+ æ–°å¢çé …</button>
            </div>
        </section>

    </main>

    <nav class="fixed bottom-0 w-full bg-white border-t flex justify-around p-2 shadow-2xl">
        <button onclick="showPage('info')" class="flex flex-col items-center p-2 nav-btn tab-active" id="nav-info">
            <span class="text-xl">ğŸ“–</span><span class="text-xs">èªªæ˜</span>
        </button>
        <button onclick="showPage('practice')" class="flex flex-col items-center p-2 nav-btn" id="nav-practice">
            <span class="text-xl">ğŸ§˜</span><span class="text-xs">ç·´åŠŸ</span>
        </button>
        <button onclick="showPage('settings')" class="flex flex-col items-center p-2 nav-btn" id="nav-settings">
            <span class="text-xl">âš™ï¸</span><span class="text-xs">è¨­å®š</span>
        </button>
        <button onclick="openFeedback()" class="flex flex-col items-center p-2">
            <span class="text-xl">ğŸ</span><span class="text-xs">é­”æ³•ç®±</span>
        </button>
    </nav>

    <script>
        let balance = 165;
        let points = 0;
        let currentMode = '';

        function showPage(pageId) {
            document.querySelectorAll('.page-content').forEach(p => p.classList.add('hidden'));
            document.getElementById('page-' + pageId).classList.remove('hidden');
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('tab-active'));
            document.getElementById('nav-' + pageId).classList.add('tab-active');
        }

        // ç·´åŠŸé‚è¼¯
        function startCooldown() {
            const price = document.getElementById('itemPrice').value;
            if (!price || price <= 0) return alert('è«‹å…ˆè¼¸å…¥é‡‘é¡');
            
            document.getElementById('step-input').classList.add('hidden');
            document.getElementById('step-cooldown').classList.remove('hidden');
            
            let count = 30;
            const timerCircle = document.getElementById('timerCircle');
            const timerNum = document.getElementById('timerNum');
            
            const interval = setInterval(() => {
                count--;
                timerNum.innerText = count;
                const offset = 283 - (count / 30) * 283;
                timerCircle.style.strokeDashoffset = offset;
                
                if (count <= 0) {
                    clearInterval(interval);
                    document.getElementById('step-cooldown').classList.add('hidden');
                    document.getElementById('step-decision').classList.remove('hidden');
                }
            }, 1000);
        }

        function setMode(mode) {
            currentMode = mode;
            alert('å·²æ¨™è¨˜ç‚ºï¼š' + mode + 'ã€‚è«‹åšæ±ºå®šï¼');
        }

        function buyNow() {
            const price = parseInt(document.getElementById('itemPrice').value);
            if (balance < price) return alert('æ’²æ»¿é¤˜é¡ä¸è¶³å–”ï¼å†è€ƒæ…®çœ‹çœ‹ï¼Ÿ');
            balance -= price;
            updateDisplay();
            alert('å·²è³¼è²·ã€‚è¨˜å¾—é€™åªæ˜¯é ç®—çš„ä¸€éƒ¨åˆ†å–”ï¼');
            resetPractice();
        }

        function savePoints() {
            const price = parseInt(document.getElementById('itemPrice').value);
            const rate = parseInt(document.getElementById('rateInput').value);
            const earnedPoints = Math.floor(price / 100) * rate;
            
            points += earnedPoints;
            updateDisplay();
            alert(`å¤ªæ£’äº†ï¼ä½ å…‹åˆ¶äº†ã€Œ${currentMode}ã€çš„è¡å‹•ï¼Œç²å¾—äº† ${earnedPoints} é»çå‹µï¼`);
            resetPractice();
        }

        function updateDisplay() {
            document.getElementById('balanceDisplay').innerText = balance;
            document.getElementById('pointsDisplay').innerText = points;
        }

        function resetPractice() {
            document.getElementById('step-input').classList.remove('hidden');
            document.getElementById('step-cooldown').classList.add('hidden');
            document.getElementById('step-decision').classList.add('hidden');
            document.getElementById('itemPrice').value = '';
            showPage('info');
        }

        // è¦ªå­å…±å‰µå€
        function addGachaField() {
            const container = document.getElementById('gachaList');
            const div = document.createElement('div');
            div.className = 'flex gap-2';
            div.innerHTML = '<input type="text" placeholder="è¼¸å…¥æ–°çé …" class="flex-1 p-2 border rounded-lg text-sm gacha-item">';
            container.appendChild(div);
        }

        // é­”æ³•ç®±å•å·
        function openFeedback() {
            window.open("https://forms.gle/your_google_form_id", "_blank");
        }
    </script>
</body>
</html>
